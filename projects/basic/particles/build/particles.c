// *********************************************************************
// Generated by JagStudio
// Based on BCX32 - BASIC To C/C++ Translator (V) 6.00 (2009/06/02)
//                 BCX (c) 1999 - 2009 by Kevin Diggins
//              Translated for compiling with a C Compiler
// *********************************************************************
// *********************************************************************

// ***************************************************
// Compiler Defines
// ***************************************************

// C++
#if defined( __cplusplus )
  #define overloaded
  #define C_EXPORT EXTERN_C __declspec(dllexport)
  #define C_IMPORT EXTERN_C __declspec(dllimport)
#else
  #define C_EXPORT __declspec(dllexport)
  #define C_IMPORT __declspec(dllimport)
#endif

#include "jstudio.h"
#include "romassets.h"
#define UINT unsigned int
#define WORD short
#define BYTE char
#define UWORD unsigned short
#define UBYTE unsigned char
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
#define peek(x) (*(volatile char *)(x))
#define dpeek(x) (*(volatile short *)(x))
#define lpeek(x) (*(volatile int *)(x))
// *************************************************
//               Standard Macros
// *************************************************
#define BAND &
#define STRPTR(A)((char*)&(A))
#define FINT(a)floor(a)
// *************************************************
//            User Global Initialized Arrays
// *************************************************

// *************************************************
//            User Global Variables
// *************************************************

static int     x;
static int     y;
static int     x2;
static int     y2;
static int     parts;
static int     trigger;
static int     counter;
static int     pad1;
static int     speed;
static int     curve;
static int     initial;
static int     decay;
static int     life;
static int     sinks;
static float   pie;
static float   rads;
static int     i;
static float   sinz[360];
static int     sins[360];
static int     particles[17][6];



// *************************************************
//                  Main Program
// *************************************************

void basicmain()
{
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 8] DIM x%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 8] x=64
x=64;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 9] DIM y%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 9] y=32
y=32;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 10] DIM x2%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 10] x2=0
x2=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 11] DIM y2%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 11] y2=0
y2=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 12] DIM parts%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 12] parts=16
parts=16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 13] DIM trigger%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 13] trigger=0
trigger=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 14] DIM counter%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 14] counter=0
counter=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 15] DIM pad1%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 15] pad1=0
pad1=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 16] DIM speed%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 16] speed=3
speed=3;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 17] DIM curve%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 17] curve=10
curve=10;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 18] DIM initial%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 18] initial=15
initial=15;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 19] DIM decay%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 19] decay=4
decay=4;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 20] DIM life%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 20] life=64
life=64;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 21] DIM sinks%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 21] sinks=10
sinks=10;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 23] DIM pie!
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 23] pie=3.1415926535897932384626433832795
pie=3.1415926535897932384626433832795;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 24] DIM rads!
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 24] rads=(pie/180)
rads=(pie/180);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 27] jsfSetFontIndx(1)
jsfSetFontIndx(1);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 28] jsfSetFontSize(1)
jsfSetFontSize(1);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 29] rapLocate 16,18
rapLocate(16,18);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 30] rapPrint "Please Wait..."
js_r_textbuffer=(char *)"Please Wait...";
rapPrint();
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 32] DIM i%
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 32] i=0
i=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 33] DIM sinz![360]
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 34] DIM sins%[360]
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 35] FOR i=0 to 360
for(i=0; i<=360; i+=1)
  {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 36] sinz[i]=(sin(i*rads))*32
    sinz[i]=(sin(i*rads))*32;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 37] sins[i]=INT(sinz[i])
    sins[i]=FINT(sinz[i]);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 38] NEXT
  }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 40] DIM particles%[17][6]
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 41] particles[0][5]=parts
particles[0][5]=parts;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 43] FOR i=1 TO 8
for(i=1; i<=8; i+=1)
  {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 44] particles[i][0]=(i)*64
    particles[i][0]=(i)*64;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 45] particles[i+8][0]=(i-1)*64+32
    particles[i+8][0]=(i-1)*64+32;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 46] NEXT i
  }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 48] FOR i=1 TO 16
for(i=1; i<=16; i+=1)
  {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 49] particles[i][1]=speed
    particles[i][1]=speed;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 50] particles[i][2]=curve
    particles[i][2]=curve;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 51] particles[i][3]=initial
    particles[i][3]=initial;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 52] particles[i][4]=decay
    particles[i][4]=decay;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 53] particles[i][5]=life
    particles[i][5]=life;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 54] NEXT i
  }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 56] CLS
cls();
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 58] DPOKE BG,34523
*(volatile unsigned short*)(BG)=(volatile unsigned short)34523;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 61] jsfLoadClut(strptr(SHADOWS_clut),14,16)
jsfLoadClut((unsigned short *)STRPTR(SHADOWS_clut),14,16);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 62] jsfLoadClut(strptr(SHADOWS2_clut),13,16)
jsfLoadClut((unsigned short *)STRPTR(SHADOWS2_clut),13,16);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 63] jsfLoadClut(strptr(LOGO_clut),12,16)
jsfLoadClut((unsigned short *)STRPTR(LOGO_clut),12,16);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 66] DO
for(;;)
  {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 69] pad1=jsfGetPad(1)
    pad1=jsfGetPad(1);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 71] IF pad1 BAND JAGPAD_UP AND speed<10 THEN
    if(pad1 BAND JAGPAD_UP&&speed<10)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 72] speed=speed+1
        speed+=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 73] ELSEIF pad1 BAND JAGPAD_DOWN AND speed>1 THEN
      }
    else if(pad1 BAND JAGPAD_DOWN&&speed>1)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 74] speed=speed-1
        speed-=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 75] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 77] IF pad1 BAND JAGPAD_LEFT AND curve>-10 THEN
    if(pad1 BAND JAGPAD_LEFT&&curve>-10)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 78] curve=curve-1
        curve-=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 79] ELSEIF pad1 BAND JAGPAD_RIGHT AND curve<10 THEN
      }
    else if(pad1 BAND JAGPAD_RIGHT&&curve<10)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 80] curve=curve+1
        curve+=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 81] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 83] IF pad1 BAND JAGPAD_1 AND initial<15 THEN
    if(pad1 BAND JAGPAD_1&&initial<15)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 84] initial=initial+1
        initial+=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 85] ELSEIF pad1 BAND JAGPAD_4 AND initial>1 THEN
      }
    else if(pad1 BAND JAGPAD_4&&initial>1)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 86] initial=initial-1
        initial-=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 87] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 89] IF pad1 BAND JAGPAD_3 AND life<240 THEN
    if(pad1 BAND JAGPAD_3&&life<240)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 90] life=life+16
        life+=16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 91] ELSEIF pad1 BAND JAGPAD_6 AND life>32 THEN
      }
    else if(pad1 BAND JAGPAD_6&&life>32)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 92] life=life-16
        life-=16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 93] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 95] IF pad1 BAND JAGPAD_2 AND sinks<60 THEN
    if(pad1 BAND JAGPAD_2&&sinks<60)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 96] sinks=sinks+1
        sinks+=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 97] ELSEIF pad1 BAND JAGPAD_5 AND sinks>1 THEN
      }
    else if(pad1 BAND JAGPAD_5&&sinks>1)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 98] sinks=sinks-1
        sinks-=1;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 99] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 102] counter=counter+16
    counter+=16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 103] IF counter=>360 THEN
    if(counter>=360)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 104] counter=0
        counter=0;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 105] ENDIF
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 106] x2=sins[counter]
    x2=sins[counter];
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 107] y2=sins[counter/2]
    y2=sins[counter/2];
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 110] FOR i=1 TO 16
    for(i=1; i<=16; i+=1)
      {
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 111] particles[i][1]=speed
        particles[i][1]=speed;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 112] particles[i][2]=curve
        particles[i][2]=curve;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 113] particles[i][3]=initial
        particles[i][3]=initial;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 114] particles[i][4]=decay
        particles[i][4]=decay;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 115] particles[i][5]=life
        particles[i][5]=life;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 116] NEXT i
      }
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 119] particles[0][3]=(x+x2)<<16
    particles[0][3]=(x+x2)<<16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 120] particles[0][4]=(y+y2)<<16
    particles[0][4]=(y+y2)<<16;
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 121] rapParticleInject(strptr(particles))
    rapParticleInject((int *)STRPTR(particles));
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 123] jsfDelay(sinks)
    jsfDelay(sinks);
// [F:\Jaguar\Tools\JagStudio\projects\basic\particles\particles.bas - 125] LOOP
  }
  while(1) {};   //  End of main program
}

// *************************************************
//                 Runtime Functions
// *************************************************

