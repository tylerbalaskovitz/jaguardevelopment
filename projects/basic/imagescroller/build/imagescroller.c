// *********************************************************************
// Generated by JagStudio
// Based on BCX32 - BASIC To C/C++ Translator (V) 6.00 (2009/06/02)
//                 BCX (c) 1999 - 2009 by Kevin Diggins
//              Translated for compiling with a C Compiler
// *********************************************************************
// *********************************************************************

// ***************************************************
// Compiler Defines
// ***************************************************

// C++
#if defined( __cplusplus )
  #define overloaded
  #define C_EXPORT EXTERN_C __declspec(dllexport)
  #define C_IMPORT EXTERN_C __declspec(dllimport)
#else
  #define C_EXPORT __declspec(dllexport)
  #define C_IMPORT __declspec(dllimport)
#endif

#include "jstudio.h"
#include "romassets.h"
#define UINT unsigned int
#define WORD short
#define BYTE char
#define UWORD unsigned short
#define UBYTE unsigned char
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
#define peek(x) (*(volatile char *)(x))
#define dpeek(x) (*(volatile short *)(x))
#define lpeek(x) (*(volatile int *)(x))
// *************************************************
//               Standard Macros
// *************************************************
#define BAND &
#define STRPTR(A)((char*)&(A))
#define FINT(a)floor(a)
// *************************************************
//            User Global Initialized Arrays
// *************************************************

// *************************************************
//            User Global Variables
// *************************************************

static int     backgroundObject;
static int     particleLayerObject;
static int     pad1;
static int     scrollX;
static int     scrollXmax;
static int     backgroundGfx;



// *************************************************
//                  Main Program
// *************************************************

void basicmain()
{
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 18] jsfSetFontIndx(0)
jsfSetFontIndx(0);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 19] jsfSetFontSize(1)
jsfSetFontSize(1);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 22] rapLocate 60,190
rapLocate(60,190);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 23] rapPrint "DPAD Left/Right to scroll"
js_r_textbuffer=(char *)"DPAD Left/Right to scroll";
rapPrint();
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 26] dim backgroundObject as integer
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 26] backgroundObject   = 0
backgroundObject=0;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 27] dim particleLayerObject as integer
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 27] particleLayerObject  = 1
particleLayerObject=1;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 30] jsfLoadClut(strptr(BACKGROUND_clut),0,256)
jsfLoadClut((unsigned short *)STRPTR(BACKGROUND_clut),0,256);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 33] DIM pad1    AS INTEGER
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 33] pad1=0
pad1=0;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 34] DIM scrollX   AS INTEGER
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 35] DIM scrollXmax   AS INTEGER
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 36] DIM backgroundGfx  AS INTEGER
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 39] scrollXmax = INT((1280-370))
scrollXmax=FINT((1280-370));
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 40] scrollX = 0
scrollX=0;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 43] sprite[backgroundObject].x = -16<<16
sprite[backgroundObject].x=-16<<16;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 46] backgroundGfx = sprite[backgroundObject].gfxbase
backgroundGfx=sprite[backgroundObject].gfxbase;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 49] DO
for(;;)
  {
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 51] pad1=jsfGetPad(1)
    pad1=jsfGetPad(1);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 52] IF pad1 BAND JAGPAD_LEFT AND scrollX > 0 THEN
    if(pad1 BAND JAGPAD_LEFT&&scrollX>0)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 53] sprite[backgroundObject].x += (1<<16)
        sprite[backgroundObject].x+=(1<<16);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 54] IF sprite[backgroundObject].x > -1<<16 THEN
        if(sprite[backgroundObject].x>-1<<16)
          {
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 55] scrollX -= 16
            scrollX-=16;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 56] sprite[backgroundObject].gfxbase = backgroundGfx + scrollX
            sprite[backgroundObject].gfxbase=backgroundGfx+scrollX;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 57] sprite[backgroundObject].x = -16<<16
            sprite[backgroundObject].x=-16<<16;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 58] ENDIF
          }
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 59] ELSEIF pad1 BAND JAGPAD_RIGHT AND scrollX < scrollXmax THEN
      }
    else if(pad1 BAND JAGPAD_RIGHT&&scrollX<scrollXmax)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 60] sprite[backgroundObject].x -= (1<<16)
        sprite[backgroundObject].x-=(1<<16);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 61] IF sprite[backgroundObject].x < -15<<16 THEN
        if(sprite[backgroundObject].x<-15<<16)
          {
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 62] scrollX += 16
            scrollX+=16;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 63] sprite[backgroundObject].gfxbase = backgroundGfx + scrollX
            sprite[backgroundObject].gfxbase=backgroundGfx+scrollX;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 64] sprite[backgroundObject].x = 0<<16
            sprite[backgroundObject].x=0<<16;
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 65] ENDIF
          }
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 66] ENDIF
      }
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 68] VSYNC
    jsfVsync(0);
// [/home/tbone/Programming/jagstudio/projects/basic/imagescroller/imagescroller.bas - 70] LOOP
  }
  while(1) {};   //  End of main program
}

// *************************************************
//                 Runtime Functions
// *************************************************

