// *********************************************************************
// Generated by JagStudio
// Based on BCX32 - BASIC To C/C++ Translator (V) 6.00 (2009/06/02)
//                 BCX (c) 1999 - 2009 by Kevin Diggins
//              Translated for compiling with a C Compiler
// *********************************************************************
// *********************************************************************

// ***************************************************
// Compiler Defines
// ***************************************************

// C++
#if defined( __cplusplus )
  #define overloaded
  #define C_EXPORT EXTERN_C __declspec(dllexport)
  #define C_IMPORT EXTERN_C __declspec(dllimport)
#else
  #define C_EXPORT __declspec(dllexport)
  #define C_IMPORT __declspec(dllimport)
#endif

#include "jstudio.h"
#include "romassets.h"
#define UINT unsigned int
#define WORD short
#define BYTE char
#define UWORD unsigned short
#define UBYTE unsigned char
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
//Lines inserted deliberately because of some bcx brokeness - fix at some point!
#define peek(x) (*(volatile char *)(x))
#define dpeek(x) (*(volatile short *)(x))
#define lpeek(x) (*(volatile int *)(x))
// *************************************************
//               Standard Macros
// *************************************************
#define BAND &
#define STRPTR(A)((char*)&(A))
#define FINT(a)floor(a)
// *************************************************
//               Standard Prototypes
// *************************************************

// *************************************************
//            User Global Variables
// *************************************************

static int     FRCOUNT;
static int     CURRENT;
static int     PY;
static int     STICK;
static int     col;
static int     countr;
static short   sfxcount;
static int     counter;

float   rnd (void);

// *************************************************
//               User Prototypes
// *************************************************

void    newenemy (void);


// *************************************************
//            User Global Initialized Arrays
// *************************************************


// *************************************************
//                  Main Program
// *************************************************

void basicmain()
{
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 2] dim FRCOUNT, CURRENT
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 3] dim PY
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 4] dim STICK%
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 5] dim col
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 6] dim countr
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 8] FRCOUNT=0
FRCOUNT=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 8] CURRENT=0
CURRENT=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 9] PY=100
PY=100;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 10] jsfSetFontIndx(0)
jsfSetFontIndx(0);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 11] jsfSetFontSize(0)
jsfSetFontSize(0);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 12] rapFadeDelay=1
rapFadeDelay=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 13] countr=0
countr=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 14] dim sfxcount as short
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 16] rapLocate 10,10
rapLocate(10,10);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 18] jsfLoadClut(strptr(BMP_ENEMY_clut),2,16)
jsfLoadClut((unsigned short *)STRPTR(BMP_ENEMY_clut),2,16);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 19] u235PlayModule((int)strptr(Module1),MOD_STEREO)
u235PlayModule((int)STRPTR(Module1),MOD_STEREO);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 21] dim counter as int
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 22] counter=20
counter=20;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 25] do
for(;;)
  {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 27] FRCOUNT=FRCOUNT+1
    FRCOUNT+=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 28] IF FRCOUNT=10 THEN
    if(FRCOUNT==10)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 29] call newenemy
        newenemy();
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 30] ENDIF
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 31] STICK=jsfGetPad(1)
    STICK=jsfGetPad(1);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 32] IF (STICK BAND JAGPAD_UP AND PY>20) THEN
    if((STICK BAND JAGPAD_UP&&PY>20))
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 33] PY=PY-2
        PY-=2;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 34] ENDIF
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 35] IF (STICK BAND JAGPAD_DOWN AND PY<200) THEN
    if((STICK BAND JAGPAD_DOWN&&PY<200))
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 36] PY=PY+2
        PY+=2;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 37] endif
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 40] counter=counter+1
    counter+=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 41] if counter=200 then
    if(counter==200)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 42] u235StopModule()
        u235StopModule();
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 43] u235Silence()
        u235Silence();
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 44] elseif counter=201 then
      }
    else if(counter==201)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 46] u235PlayModule((int)strptr(Module2),MOD_STEREO)
        u235PlayModule((int)STRPTR(Module2),MOD_STEREO);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 47] elseif counter=400 then
      }
    else if(counter==400)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 48] counter=0
        counter=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 49] u235StopModule()
        u235StopModule();
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 50] u235Silence()
        u235Silence();
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 51] elseif counter=1 then
      }
    else if(counter==1)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 53] u235PlayModule((int)strptr(Module1),MOD_STEREO)
        u235PlayModule((int)STRPTR(Module1),MOD_STEREO);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 54] endif
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 56] sprite[1].y_=PY
    sprite[1].y_=PY;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 58] IF rapCollide(1,1,2,22)<>-1 THEN
    if(rapCollide(1,1,2,22)!=-1)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 59] sfxcount=sfxcount+1
        sfxcount+=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 60] if sfxcount=10 then
        if(sfxcount==10)
          {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 61] u235PlaySample(4,0)
            u235PlaySample(4,0);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 62] sfxcount=0
            sfxcount=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 63] endif
          }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 64] col=PY<<10
        col=PY<<10;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 65] dpoke BG,col
        *(volatile unsigned short*)(BG)=(volatile unsigned short)        col;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 66] ELSE
      }
    else
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 67] dpoke BG,PY
        *(volatile unsigned short*)(BG)=(volatile unsigned short)        PY;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 68] endif
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 70] vsync
    jsfVsync(0);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 72] rapFadeClut(1,15,(int *)strptr(BMP_PLAYER_clut))
    rapFadeClut(1,15,(int*)STRPTR(BMP_PLAYER_clut));
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 74] if countr<32 then
    if(countr<32)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 75] rapFadeClut(2,15,(int *)strptr(BMP_ENEMY_clut))
        rapFadeClut(2,15,(int*)STRPTR(BMP_ENEMY_clut));
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 76] elseif countr<64 then
      }
    else if(countr<64)
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 77] rapFadeSingle(32,0x00ff)
        rapFadeSingle(32,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 78] rapFadeSingle(33,0x00ff)
        rapFadeSingle(33,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 79] rapFadeSingle(34,0x00ff)
        rapFadeSingle(34,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 80] rapFadeSingle(35,0x00ff)
        rapFadeSingle(35,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 81] rapFadeSingle(36,0x00ff)
        rapFadeSingle(36,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 82] rapFadeSingle(37,0x00ff)
        rapFadeSingle(37,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 83] rapFadeSingle(38,0x00ff)
        rapFadeSingle(38,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 84] rapFadeSingle(39,0x00ff)
        rapFadeSingle(39,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 85] rapFadeSingle(40,0x00ff)
        rapFadeSingle(40,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 86] rapFadeSingle(41,0x00ff)
        rapFadeSingle(41,0x00ff);
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 87] else
      }
    else
      {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 88] countr=0
        countr=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 89] endif
      }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 90] countr=countr+1
    countr+=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 91] loop
  }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 94] sub newenemy
  while(1) {};   //  End of main program
}

// *************************************************
//                 Runtime Functions
// *************************************************

float rnd (void)
{
  return (float)rand()/RAND_MAX;
}



// ************************************
//       User Subs and Functions
// ************************************


void newenemy (void)
{
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 95] sprite[2+CURRENT].x_=352
  sprite[2+CURRENT].x_=352;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 96] sprite[2+CURRENT].y_=INT((integer)(RND*200))
  sprite[2+CURRENT].y_=FINT((int)(rnd()*200));
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 97] sprite[2+CURRENT].was_hit=R_cant_hit
  sprite[2+CURRENT].was_hit=R_cant_hit;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 98] sprite[2+CURRENT].hitpoint=1
  sprite[2+CURRENT].hitpoint=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 99] sprite[2+CURRENT].xadd_=-2
  sprite[2+CURRENT].xadd_=-2;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 100] sprite[2+CURRENT].active=R_is_active
  sprite[2+CURRENT].active=R_is_active;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 102] CURRENT=CURRENT+1
  CURRENT+=1;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 103] IF CURRENT=19 THEN
  if(CURRENT==19)
    {
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 104] CURRENT=0
      CURRENT=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 105] ENDIF
    }
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 106] FRCOUNT=0
  FRCOUNT=0;
// [/home/tbone/Programming/jagstudio/projects/basic/nyandodge/nyandodge.bas - 107] end sub
}


